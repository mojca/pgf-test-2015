% Copyright 2006 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Free Documentation License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\section{Arrows}

\tikzset{to/.tip=Computer Modern Rightarrow}

\subsection{Overview}

\tikzname\ allows you to add arrow tips to the end of
lines as in \tikz [baseline] \draw [-Computer Modern Rightarrow]
(0,.5ex) -- (3ex,.5ex); or in \tikz [baseline] \draw [-{Latex}]
(0,.5ex) -- (3ex,.5ex);. It is possible to change which arrow tips are
used ``on-the-fly,'' you can have several arrow tips in a row, and you
can change the appearance of each of them individually using a special
syntax. The following example is a perhaps slightly ``excessive''
demonstration of what you can do:
\begin{codeexample}[]
\tikz {
  \node [circle,draw] (A)              {A};
  \node [circle,draw] (B) [right=of A] {B};

  \draw [draw = blue, thick,
         arrows={
           Computer Modern Rightarrow [sep] 
         - Latex[blue!50,length=8pt,bend] Stealth[length=8pt,open,bend,sep]}]
    (A) edge [bend left=45] (B)
    (B) edge [in=-110, out=-70,looseness=8] (B);
}
\end{codeexample}

There are a number of predefined generic arrow tip kinds whose
appearance you can modify in many ways using various options. It is
also possible to define completely new arrow tip kinds, see
Section~\ref{section-arrows}, but doing this is somewhat harder than
configuring an existing kind (it is like the difference between using
a font at different sizes or faces like italics, compared to
designing a new font yourself).

In the present section, we go over the various ways in which you can
configure which particular arrow tips are \emph{used.} The glorious
details of how new arrow tips can be defined are explained in
Section~\ref{section-arrows}.


\subsection{Where and When Arrow Tips Are Placed}

In order to add arrow tips to the lines you draw, two conditions must
be met:

\begin{enumerate}
\item You must have specified that arrow tips should be added to 
  lines, using the |arrows| key or its short form.
\item The line actually has two ``end points'' (it is not
  ``closed'').
\end{enumerate}

Let us start with the |arrows| key:

\begin{key}{/tikz/arrows=\meta{start arrow specification}|-|\meta{end
      arrow specification}} 
  This option sets the arrow tip(s) to be used at the start and end of
  lines. An empty value as in |->| for the start indicates that no
  arrow tip should be drawn at the start.% 
  \indexoption{arrows}

  \emph{Note: Since the arrow option is so often used, you can leave
    out the text |arrows=|.} What happens is that every (otherwise
  unknown) option that contains a |-| is interpreted as an arrow specification.

\begin{codeexample}[]
\begin{tikzpicture}
  \draw[->]        (0,0)   -- (1,0);
  \draw[>-Stealth] (0,0.3) -- (1,0.3);
\end{tikzpicture}
\end{codeexample}

  In the above example, the first start specification is empty and the
  second is |>|. The end specifications are |>| for the first line and
  |Stealth| for the second line. Note that it makes a difference
  whether |>| in a start specification or in an end specification: In
  an end specification it creates, as one would expect, a pointed tip
  at the end of the line. In the start specification, however, it
  creates a ``reversed'' version if this arrow -- which happens to be
  what one would expect here.

  The above specifications are very simple and only select a single
  arrow tip without any special configuration options, resulting in
  the ``natural'' versions of these arrow tips. It is also possible to
  ``configure'' arrow tips in many different ways, as explained in
  detail in Section~\ref{section-arrow-config} below by adding options
  in square brackets following the arrow tip kind:

\begin{codeexample}[]
\begin{tikzpicture}
  \draw[-{Stealth[red]}] (0,0)   -- (1,0);
\end{tikzpicture}
\end{codeexample}

  Note that in the example I had to surround the end specification by
  braces. This is necessary so that \tikzname\ does not mistake the
  closing square bracket of the |Stealth| arrow tip's options for the
  end of the options of the |\draw| command. In general, you often
  need to add braces when specifying arrow tips except for simple case
  like |->| or |<<->|, which are pretty frequent, though. When in
  doubt, say |arrows={|\meta{start spec}|-|\meta{end spec}|}|, that
  will always work.

  It is also possible to specify multiple (different) arrow tips in a
  row inside a specification, see Section~\ref{section-arrow-spec}
  below for details.
\end{key}

When you draw a line using |\draw|, you can add arrow tips at the
ends. It is only possible to add one arrow tip at the start and one at the end. If
the path consists of several segments, only the last segment gets
arrow tips. The behavior for paths that are closed is not specified
and may change in the future.


\subsection{Configuring The Appearance of a Single Arrow Tip}
\label{section-arrow-config}

\subsubsection{Size}

\subsubsection{General Appearance Parameters}

\subsubsection{Swapping, Reversing, Halving}

\subsubsection{Coloring}

\subsubsection{Bending and Flexing}


\subsection{Arrow Tip Specifications}
\label{section-arrow-spec}

\subsubsection{Syntax}

\subsubsection{Specifying Paddings}

\subsubsection{Specifying the Line End}

\subsubsection{Defining Shorthands and Styles}

\begin{key}{/tikz/>=\meta{end arrow kind}}
  This option can be used to redefine the ``standard'' arrow tip |>|. The
  idea is that different people have different ideas what arrow tip kind
  should normally be used. I prefer the arrow tip of \TeX's |\to| command
  (which is used in things like $f\colon A \to B$). Other people will
  prefer \LaTeX's standard arrow tip, which looks like this: \tikz
  \draw[-latex] (0,0) -- (10pt,1ex);. Since the arrow tip kind |>| is
  certainly the most ``natural'' one to use, it is kept free of any
  predefined meaning. Instead, you can change it by saying |>=to| to
  set the ``standard'' arrow tip kind to \TeX's arrow tip, whereas |>=latex|
  will set it to \LaTeX's arrow tip and |>=stealth| will use a
  \textsc{pstricks}-like arrow tip.

  Apart from redefining the arrow tip kind |>| (and |<| for the start),
  this option also redefines the following arrow tip kinds: |>| and
  \declareandlabel{<} as the swapped version of \meta{end arrow kind},
  and \verb!|<! and \verb!>|! as arrow tips ending with a vertical
  bar.

\begin{codeexample}[]
\begin{tikzpicture}[scale=2,ultra thick]
  \begin{scope}[>=latex]
    \draw[>->]    (0pt,3ex) -- (1cm,3ex);
    \draw[|<->|] (0pt,2ex) -- (1cm,2ex);
  \end{scope}
  \begin{scope}[>=stealth']
    \draw[>->]    (0pt,1ex) -- (1cm,1ex);
    \draw[|<->|] (0pt,0ex) -- (1cm,0ex);
  \end{scope}
\end{tikzpicture}
\end{codeexample}

\end{key}

