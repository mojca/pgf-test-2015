% Copyright 2011 by Jannis Pohlmann
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\ProvidesFileRCS[v\pgfversion] $Header: /cvsroot/pgf/pgf/generic/pgf/graphdrawing/algorithms/layered/pgflibrarygraphdrawing.layered.code.tex,v 1.6 2011/10/16 08:40:10 jannis-pohlmann Exp $



\usepgflibrary{graphdrawing}


%
% Dispatcher for deciding on a default algorithm for layered layouts.
% 

\pgfgddeclareforwardedkeys{/graph drawing}{
  layered layout/.forward to={/graph drawing/\pgfkeysvalueof{/graph drawing/layered layout/default algorithm}}
}

\pgfkeys{/graph drawing/layered layout/default algorithm/.initial=modular layered}


%
% Definition of layered layout algorithms as well as options to configure them.
%

\pgfgdset{
  layered layout/.cd,
  %
  first layer/.graph parameter,
  last layer/.graph parameter,
  %
  random seed/.graph parameter,
  random seed/.parameter initial=42,
  %
  % Node parameters for layered layout algorithms.
  %
  %
  % Edge parameters for layered layout algorithms.
  %
  weight/.edge parameter,
  weight/.parameter initial=1,
  %
  minimum levels/.edge parameter,
  minimum levels/.parameter initial=1,
}


%
% Algorithm for generating layered layouts of directed graphs, based
% on the paper
%
%   "A Technique for Drawing Directed Graphs"
%   Gansner, Koutsofios, North, Vo, 1993
%
\pgfgddeclarealgorithmkey
  {GansnerKNV1993 layered}
  {layered layout}
  {
    algorithm=GansnerKNV1993 layered,
  }


%
% Modular algorithm for generating layered layouts of directed graphs.
% For the various steps of the algorithm (cycle removal, node ranking, 
% minimization of edge crossings and edge routing) different sub-algorithms
% can be selected.
%
\pgfgddeclarealgorithmkey
  {modular layered}
  {layered layout}
  {
    algorithm=modular layered,
    %
    layered layout/cycle removal/.graph parameter,
    layered layout/cycle removal/.parameter initial=GansnerKNV1993,
    %
    layered layout/node ranking/.graph parameter,
    layered layout/node ranking/.parameter initial=GansnerKNV1993,
    %
    layered layout/crossing minimization/.graph parameter,
    layered layout/crossing minimization/.parameter initial=GansnerKNV1993,
    %
    layered layout/node positioning/.graph parameter,
    layered layout/node positioning/.parameter initial=GansnerKNV1993,
    %
    layered layout/edge routing/.graph parameter,
    layered layout/edge routing/.parameter initial=GansnerKNV1993,
  }

\endinput
